
'use strict'

/*
TODO:
* display error messages
* display ** more ** tweets (another ajax request at the end of the feed)
*/

var React = require('react');

var HashtagTweetsActionCreators = require('../actions/HashtagTweetsActionCreators.js');
var HashtagTweetsStore = require('../stores/HashtagTweetsStore.js');
var ErrorStore = require('../stores/ErrorStore.js');

var Parameters = require('../constants/Constants.js').Parameters;

function getTweetsState() {
  return {
    resultType: HashtagTweetsStore.getResultType(),
    tweets: HashtagTweetsStore.getTweets()
  };
}

function formatTweet(tweet) {
  /*
    Format tweet to display following attributes:
      created_at, text, user.name, user.screen_name,
      retweet_count, favorite_count
  */
  var twitterURL = "https://twitter.com/"
  var userURL = twitterURL + tweet.user.screen_name;
  var tweetURL = twitterURL + tweet.user.screen_name + "/status/" + tweet.id;

  var date = (new Date(tweet.created_at)).toLocaleDateString();
  var Retweet = tweet.retweet_count == 0 ? "" : (
      <span className="retweeted-info">
        <i className="glyphicon glyphicon-retweet"></i>
        <span className="retweeted-count">{tweet.retweet_count}</span>
      </span>
  );
  var Favorite = tweet.favorite_count == 0 ? "" : (
      <span className="favorited-info">
        <i className="glyphicon glyphicon-star"></i>
        <span className="favorited-count">{tweet.favorite_count}</span>
      </span>
  );

  return (
    <div className="tweet-item-content">
      <div className="tweet-item-header">
        <a className="tweet-user-link" href={userURL}>
          <strong className="tweet-fullname">{tweet.user.name}</strong>
          <span className="tweet-username">
            <s>@</s><b>{tweet.user.screen_name}</b>
          </span>
        </a>
        <small className="tweet-time">
          <a href={tweetURL} className="tweet-timestamp" data-original-title={tweet.created_at}>
            {date}
          </a>
        </small>
      </div>

      <p className="tweet-item-text">{tweet.text}</p>

      <div className="tweet-item-footer">
        {Retweet}
        {Favorite}
      </div>
    </div>
  );
}

module.exports = React.createClass({
  getInitialState: function () {
    return getTweetsState();
  },

  componentDidMount: function() {
    HashtagTweetsStore.addChangeListener(this._onChange);
    ErrorStore.addChangeListener(this._onChange);
  },

  componentWillUnmount: function() {
    HashtagTweetsStore.removeChangeListener(this._onChange);
    ErrorStore.removeChangeListener(this._onChange);
  },

  render: function () {
    // var Tweets = this.state.tweets.map(function (tweet) {
    var tweets = [
      {"created_at":"Fri Oct 23 07:02:09 +0000 2015","id":657451930122330112,"id_str":"657451930122330112","text":"Il Cai organizza la presentazione del libro: \" Una notte troppo bella per morire\" di Isabel Suppe', sede Cai... https:\/\/t.co\/WSeZKqHLUN","source":"\u003ca href=\"http:\/\/www.facebook.com\/twitter\" rel=\"nofollow\"\u003eFacebook\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":452815445,"id_str":"452815445","name":"mario vaccarella","screen_name":"MarioVaccarella","location":null,"url":null,"description":"Club Alpino Italiano-Aree Protette","protected":false,"verified":false,"followers_count":261,"friends_count":904,"listed_count":0,"favourites_count":6,"statuses_count":1995,"created_at":"Mon Jan 02 08:17:31 +0000 2012","utc_offset":null,"time_zone":null,"geo_enabled":false,"lang":"it","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/3655934288\/11149262e9f6e25161bbff8c3aac63c4_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/3655934288\/11149262e9f6e25161bbff8c3aac63c4_normal.jpeg","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":3,"favorite_count":4,"entities":{"hashtags":[],"urls":[{"url":"https:\/\/t.co\/WSeZKqHLUN","expanded_url":"http:\/\/fb.me\/28F01idii","display_url":"fb.me\/28F01idii","indices":[112,135]}],"user_mentions":[],"symbols":[]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"it","timestamp_ms":"1445583729664"},
      {"created_at":"Fri Oct 23 07:02:09 +0000 2015","id":657451930118062080,"id_str":"657451930118062080","text":"\u0627\u062d\u0644\u0649 \u0645\u0648\u0643\u0627 \u0639\u0644\u0649 \u0627\u0644\u0635\u0628\u0627\u062d \u0627\u0644\u062c\u0645\u064a\u0644 \u0627\u0633\u062a\u0627\u0631\u0628\u0643\u0633 \u0627\u0644\u0639\u062f\u064a\u0644\u064a\u0647 .. https:\/\/t.co\/rQ5Vi9f0pj","source":"\u003ca href=\"http:\/\/twitter.com\/download\/android\" rel=\"nofollow\"\u003eTwitter for Android\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":2751474634,"id_str":"2751474634","name":"\u0634\u0627\u0639\u0631 \u0639\u064a\u0648\u0646\u0643 \u2661\u00b7\u2665","screen_name":"w_alm6ery","location":null,"url":null,"description":"\u200f\u0639\u0627\u0628\u0631 \u0633\u0628\u064a\u0644 \u0648\u0636\u062d\u0643\u062a\u064a \u0631\u0627\u0633 \u0645\u0627\u0644\u064a \u2661\u00b7\u2665","protected":false,"verified":false,"followers_count":709,"friends_count":1656,"listed_count":1,"favourites_count":3373,"statuses_count":9538,"created_at":"Tue Aug 26 04:43:17 +0000 2014","utc_offset":null,"time_zone":null,"geo_enabled":false,"lang":"ar","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/643434361317036032\/zp_RfUyU_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/643434361317036032\/zp_RfUyU_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2751474634\/1442241674","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[],"symbols":[],"media":[{"id":657451908110548992,"id_str":"657451908110548992","indices":[49,72],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-9Bu_VAAAtMqU.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-9Bu_VAAAtMqU.jpg","url":"https:\/\/t.co\/rQ5Vi9f0pj","display_url":"pic.twitter.com\/rQ5Vi9f0pj","expanded_url":"http:\/\/twitter.com\/w_alm6ery\/status\/657451930118062080\/photo\/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":390,"resize":"fit"},"large":{"w":890,"h":1024,"resize":"fit"},"medium":{"w":600,"h":689,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":657451908110548992,"id_str":"657451908110548992","indices":[49,72],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-9Bu_VAAAtMqU.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-9Bu_VAAAtMqU.jpg","url":"https:\/\/t.co\/rQ5Vi9f0pj","display_url":"pic.twitter.com\/rQ5Vi9f0pj","expanded_url":"http:\/\/twitter.com\/w_alm6ery\/status\/657451930118062080\/photo\/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":390,"resize":"fit"},"large":{"w":890,"h":1024,"resize":"fit"},"medium":{"w":600,"h":689,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"ar","timestamp_ms":"1445583729663"},
      {"created_at":"Fri Oct 23 07:02:09 +0000 2015","id":657451930109767680,"id_str":"657451930109767680","text":"@TopElevenHelp But it doesn't","source":"\u003ca href=\"http:\/\/twitter.com\/download\/android\" rel=\"nofollow\"\u003eTwitter for Android\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":657451737717055488,"in_reply_to_status_id_str":"657451737717055488","in_reply_to_user_id":1673465965,"in_reply_to_user_id_str":"1673465965","in_reply_to_screen_name":"TopElevenHelp","user":{"id":3244561941,"id_str":"3244561941","name":"Lisa Messi","screen_name":"xlisa1337x","location":"Sweden","url":null,"description":"You only live once and that's enough if you don't waste it on twitter","protected":false,"verified":false,"followers_count":50,"friends_count":237,"listed_count":0,"favourites_count":1858,"statuses_count":273,"created_at":"Sun May 10 08:19:58 +0000 2015","utc_offset":null,"time_zone":null,"geo_enabled":false,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/609087685286871041\/fipHp8-Y_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/609087685286871041\/fipHp8-Y_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/3244561941\/1436122878","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":10,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"TopElevenHelp","name":"Top Eleven Help","id":1673465965,"id_str":"1673465965","indices":[0,14]}],"symbols":[]},"favorited":false,"retweeted":false,"filter_level":"low","lang":"en","timestamp_ms":"1445583729661"},
      {"created_at":"Fri Oct 23 07:02:10 +0000 2015","id":657451934299779073,"id_str":"657451934299779073","text":"@xiya_nrkr (\u5ac1)&lt;\u540c\u3058\u304f(\u0424\u03c9\u0424)","source":"\u003ca href=\"http:\/\/twitter.com\/download\/iphone\" rel=\"nofollow\"\u003eTwitter for iPhone\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":657449738518708225,"in_reply_to_status_id_str":"657449738518708225","in_reply_to_user_id":1359877586,"in_reply_to_user_id_str":"1359877586","in_reply_to_screen_name":"xiya_nrkr","user":{"id":223368025,"id_str":"223368025","name":"\u30a4\u30c3\u30c1\u30fc@\u5ac1\u888b\u306e\u4eba\u517c\u6cb3\u7ae599\u53f7","screen_name":"kim215ichi","location":"\u5343\u8449\u770c\u5343\u8449\u5e02","url":null,"description":"\u4e00\u90e8\u3067\u306f\u5ac1\u888b\u306e\u4eba\u3068\u3057\u3066\u5b9a\u7740\u3057\u3066\u307e\u3059\u3002 \u3081\u3063\u3061\u3083\u30b5\u30d0\u30b2\u30fc\u3057\u305f\u3044(\u0424\u03c9\u0424)\u4e2d\u578b\u4e8c\u8f2a\u514d\u8a31\u53d6\u3063\u3066\u30d0\u30a4\u30af\u4e57\u308a\u56de\u3057\u305f\u3044(\u0424\u03c9\u0424*) \u7537\u3067\u3059\u3002\u60aa\u3057\u304b\u3089\u305a(=\u03c9=)","protected":false,"verified":false,"followers_count":363,"friends_count":578,"listed_count":23,"favourites_count":1147,"statuses_count":33045,"created_at":"Mon Dec 06 05:29:28 +0000 2010","utc_offset":32400,"time_zone":"Tokyo","geo_enabled":true,"lang":"ja","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/655284120642125824\/rtch5eVJ_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/655284120642125824\/rtch5eVJ_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/223368025\/1438256316","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"xiya_nrkr","name":"\u30b7\u30e4@\u30c7\u30b9\u30c8\u30ed\u3061\u3093","id":1359877586,"id_str":"1359877586","indices":[0,10]}],"symbols":[]},"favorited":false,"retweeted":false,"filter_level":"low","lang":"ja","timestamp_ms":"1445583730660"},
      {"created_at":"Fri Oct 23 07:02:10 +0000 2015","id":657451934312349697,"id_str":"657451934312349697","text":"@wataro_96 \u3084\u3063\u305f\u306a\uff1f","source":"\u003ca href=\"http:\/\/twitter.com\/download\/iphone\" rel=\"nofollow\"\u003eTwitter for iPhone\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":657451491272232960,"in_reply_to_status_id_str":"657451491272232960","in_reply_to_user_id":3398137813,"in_reply_to_user_id_str":"3398137813","in_reply_to_screen_name":"wataro_96","user":{"id":3066435630,"id_str":"3066435630","name":"\u30c7\u30fc\u30eb\u541b","screen_name":"Dale_Yours","location":"\u6e58\u5357\u4ed8\u8fd1","url":"https:\/\/mixch.tv\/m\/Gw0CJAfe","description":"I live with two people\/@shin123654\u2190\u3074\u3063\u3074\/3JSB\/\u30c7\u30e5\u30fc\u30af\u30c1\u30c3\u30d7\/\u30d1\u30ea\u30d4\u30ec\u30d9\u30eb\u9ad8\u3081\u2764\ufe0f","protected":false,"verified":false,"followers_count":706,"friends_count":534,"listed_count":15,"favourites_count":1069,"statuses_count":36859,"created_at":"Sat Mar 07 11:36:06 +0000 2015","utc_offset":null,"time_zone":null,"geo_enabled":false,"lang":"ja","contributors_enabled":false,"is_translator":false,"profile_background_color":"C6E2EE","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme2\/bg.gif","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme2\/bg.gif","profile_background_tile":false,"profile_link_color":"1F98C7","profile_sidebar_border_color":"C6E2EE","profile_sidebar_fill_color":"DAECF4","profile_text_color":"663B12","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/657444487459815424\/b-_NHVuQ_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/657444487459815424\/b-_NHVuQ_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/3066435630\/1445582266","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":5,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"wataro_96","name":"\u30b5\u30d6\u30ed\u30fc 2","id":3398137813,"id_str":"3398137813","indices":[0,10]}],"symbols":[]},"favorited":false,"retweeted":false,"filter_level":"low","lang":"ja","timestamp_ms":"1445583730663"},
      {"created_at":"Fri Oct 23 07:02:10 +0000 2015","id":657451934320717824,"id_str":"657451934320717824","text":"RT @eoetop0203: \uadc0\uc5ec\uc6cc\ud83d\ude31\ud83d\ude31 https:\/\/t.co\/EKfzXr2gYp","source":"\u003ca href=\"http:\/\/twitter.com\/download\/android\" rel=\"nofollow\"\u003eTwitter for Android\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":2271274350,"id_str":"2271274350","name":"T i  n a","screen_name":"Tiana_YeY","location":"\u9999\u6e2f","url":null,"description":"\u6211\u6700\u559c\u6b61\u7684 \u5c31\u662f \u97d3\u570b\u7684\u5718\u9ad4 BEAST \u3002\u5728 BEAST \u7576\u4e2d\uff0c\u6211\u662f\u975e\u5e38\u559c\u6b61 Hyunseung (\ud604\uc2b9) \u7684\uff0c\u8acb\u5927\u5bb6\u90fd\u591a\u591a\u652f\u6301 BEAST \u3002","protected":false,"verified":false,"followers_count":116,"friends_count":409,"listed_count":10,"favourites_count":25375,"statuses_count":155564,"created_at":"Wed Jan 01 06:49:04 +0000 2014","utc_offset":28800,"time_zone":"Hong Kong","geo_enabled":true,"lang":"zh-tw","contributors_enabled":false,"is_translator":false,"profile_background_color":"FFFFFF","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme9\/bg.gif","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme9\/bg.gif","profile_background_tile":false,"profile_link_color":"000000","profile_sidebar_border_color":"181A1E","profile_sidebar_fill_color":"252429","profile_text_color":"666666","profile_use_background_image":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/654676349110501376\/L740UyGB_normal.png","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/654676349110501376\/L740UyGB_normal.png","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2271274350\/1444921678","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Fri Oct 23 05:20:17 +0000 2015","id":657426293282074624,"id_str":"657426293282074624","text":"\uadc0\uc5ec\uc6cc\ud83d\ude31\ud83d\ude31 https:\/\/t.co\/EKfzXr2gYp","source":"\u003ca href=\"http:\/\/twitter.com\/download\/iphone\" rel=\"nofollow\"\u003eTwitter for iPhone\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":2291408184,"id_str":"2291408184","name":"\uaf2c\uaf2c\ub9c8 \ucc0c\ub2c8","screen_name":"eoetop0203","location":null,"url":null,"description":"\uc9c0\ub09c6\ub144~ \uc55e\uc73c\ub85c\ub3c4\ub0b4\uc0ac\ub78c\ub4e4\/IN THE MIDNIGHT\/\uc5b8\ud314X","protected":false,"verified":false,"followers_count":1209,"friends_count":85,"listed_count":11,"favourites_count":4336,"statuses_count":21221,"created_at":"Tue Jan 14 16:53:23 +0000 2014","utc_offset":null,"time_zone":null,"geo_enabled":true,"lang":"ko","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/626057672874299393\/9Crp-AvF_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/626057672874299393\/9Crp-AvF_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2291408184\/1445446701","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":1,"favorite_count":1,"entities":{"hashtags":[],"urls":[],"user_mentions":[],"symbols":[],"media":[{"id":657426285216399360,"id_str":"657426285216399360","indices":[6,29],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","url":"https:\/\/t.co\/EKfzXr2gYp","display_url":"pic.twitter.com\/EKfzXr2gYp","expanded_url":"http:\/\/twitter.com\/eoetop0203\/status\/657426293282074624\/photo\/1","type":"photo","sizes":{"large":{"w":595,"h":1024,"resize":"fit"},"medium":{"w":595,"h":1024,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":585,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":657426285216399360,"id_str":"657426285216399360","indices":[6,29],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","url":"https:\/\/t.co\/EKfzXr2gYp","display_url":"pic.twitter.com\/EKfzXr2gYp","expanded_url":"http:\/\/twitter.com\/eoetop0203\/status\/657426293282074624\/photo\/1","type":"photo","sizes":{"large":{"w":595,"h":1024,"resize":"fit"},"medium":{"w":595,"h":1024,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":585,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"ko"},"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"eoetop0203","name":"\uaf2c\uaf2c\ub9c8 \ucc0c\ub2c8","id":2291408184,"id_str":"2291408184","indices":[3,14]}],"symbols":[],"media":[{"id":657426285216399360,"id_str":"657426285216399360","indices":[22,45],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","url":"https:\/\/t.co\/EKfzXr2gYp","display_url":"pic.twitter.com\/EKfzXr2gYp","expanded_url":"http:\/\/twitter.com\/eoetop0203\/status\/657426293282074624\/photo\/1","type":"photo","sizes":{"large":{"w":595,"h":1024,"resize":"fit"},"medium":{"w":595,"h":1024,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":585,"resize":"fit"}},"source_status_id":657426293282074624,"source_status_id_str":"657426293282074624","source_user_id":2291408184,"source_user_id_str":"2291408184"}]},"extended_entities":{"media":[{"id":657426285216399360,"id_str":"657426285216399360","indices":[22,45],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-luSRUAAA6ZjP.jpg","url":"https:\/\/t.co\/EKfzXr2gYp","display_url":"pic.twitter.com\/EKfzXr2gYp","expanded_url":"http:\/\/twitter.com\/eoetop0203\/status\/657426293282074624\/photo\/1","type":"photo","sizes":{"large":{"w":595,"h":1024,"resize":"fit"},"medium":{"w":595,"h":1024,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":585,"resize":"fit"}},"source_status_id":657426293282074624,"source_status_id_str":"657426293282074624","source_user_id":2291408184,"source_user_id_str":"2291408184"}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"ko","timestamp_ms":"1445583730665"},
      {"created_at":"Fri Oct 23 07:02:10 +0000 2015","id":657451934291394560,"id_str":"657451934291394560","text":"RT @Midz_fanatic: #EveryWhereParthSamthaan pic-16\nParth in Kolkata\ud83d\ude18,recent pics from Fb n IG!\n((For more,check-@Midz_fanatic)) RT..RT! http\u2026","source":"\u003ca href=\"http:\/\/twitter.com\/download\/android\" rel=\"nofollow\"\u003eTwitter for Android\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":2951593220,"id_str":"2951593220","name":"manan_ki_deewani","screen_name":"NJyothsna","location":"Pragathi Nagar, Medchal","url":"http:\/\/twiends.com\/njyothsna","description":"insta id -@manan_ki_deewani & @kyy_mananff\nwattpad -Njyothsna\nwish me on sep 11\nHyderabad","protected":false,"verified":false,"followers_count":464,"friends_count":484,"listed_count":3,"favourites_count":6802,"statuses_count":4214,"created_at":"Tue Dec 30 06:49:33 +0000 2014","utc_offset":null,"time_zone":null,"geo_enabled":true,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/616971131656876032\/LiUUjOfV_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/616971131656876032\/LiUUjOfV_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2951593220\/1434047168","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Fri Oct 23 04:23:20 +0000 2015","id":657411961857118208,"id_str":"657411961857118208","text":"#EveryWhereParthSamthaan pic-16\nParth in Kolkata\ud83d\ude18,recent pics from Fb n IG!\n((For more,check-@Midz_fanatic)) RT..RT! https:\/\/t.co\/ClQyzFxE3D","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":2959559264,"id_str":"2959559264","name":"\u10e6\u043c\u0454\u2202\u043d\u03b1'\u0455 \u00a2\u044f\u0454\u03b1\u0442\u03b9\u03c3\u03b7\u0455\u10e6","screen_name":"Midz_fanatic","location":"India","url":null,"description":"||Crazy girl|15|Taurus|Addicted fan of\u2665MaNan,Ky2,Parth\u2665|Parth replied me from zingtv's acc.(17\/7\/15)|Don't follow me to unfollow me||","protected":false,"verified":false,"followers_count":623,"friends_count":128,"listed_count":3,"favourites_count":4248,"statuses_count":8146,"created_at":"Mon Jan 05 11:13:32 +0000 2015","utc_offset":19800,"time_zone":"New Delhi","geo_enabled":false,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"1A1B1F","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme9\/bg.gif","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme9\/bg.gif","profile_background_tile":false,"profile_link_color":"DD2E44","profile_sidebar_border_color":"000000","profile_sidebar_fill_color":"000000","profile_text_color":"000000","profile_use_background_image":true,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/656790012168683521\/6WIHZErK_normal.jpg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/656790012168683521\/6WIHZErK_normal.jpg","profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2959559264\/1443956978","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":14,"favorite_count":20,"entities":{"hashtags":[{"text":"EveryWhereParthSamthaan","indices":[0,24]}],"urls":[],"user_mentions":[{"screen_name":"Midz_fanatic","name":"\u10e6\u043c\u0454\u2202\u043d\u03b1'\u0455 \u00a2\u044f\u0454\u03b1\u0442\u03b9\u03c3\u03b7\u0455\u10e6","id":2959559264,"id_str":"2959559264","indices":[93,106]}],"symbols":[],"media":[{"id":657411959235678208,"id_str":"657411959235678208","indices":[117,140],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","url":"https:\/\/t.co\/ClQyzFxE3D","display_url":"pic.twitter.com\/ClQyzFxE3D","expanded_url":"http:\/\/twitter.com\/Midz_fanatic\/status\/657411961857118208\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":657411959235678208,"id_str":"657411959235678208","indices":[117,140],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","url":"https:\/\/t.co\/ClQyzFxE3D","display_url":"pic.twitter.com\/ClQyzFxE3D","expanded_url":"http:\/\/twitter.com\/Midz_fanatic\/status\/657411961857118208\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"en"},"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"EveryWhereParthSamthaan","indices":[18,42]}],"urls":[],"user_mentions":[{"screen_name":"Midz_fanatic","name":"\u10e6\u043c\u0454\u2202\u043d\u03b1'\u0455 \u00a2\u044f\u0454\u03b1\u0442\u03b9\u03c3\u03b7\u0455\u10e6","id":2959559264,"id_str":"2959559264","indices":[3,16]},{"screen_name":"Midz_fanatic","name":"\u10e6\u043c\u0454\u2202\u043d\u03b1'\u0455 \u00a2\u044f\u0454\u03b1\u0442\u03b9\u03c3\u03b7\u0455\u10e6","id":2959559264,"id_str":"2959559264","indices":[111,124]}],"symbols":[],"media":[{"id":657411959235678208,"id_str":"657411959235678208","indices":[139,140],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","url":"https:\/\/t.co\/ClQyzFxE3D","display_url":"pic.twitter.com\/ClQyzFxE3D","expanded_url":"http:\/\/twitter.com\/Midz_fanatic\/status\/657411961857118208\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}},"source_status_id":657411961857118208,"source_status_id_str":"657411961857118208","source_user_id":2959559264,"source_user_id_str":"2959559264"}]},"extended_entities":{"media":[{"id":657411959235678208,"id_str":"657411959235678208","indices":[139,140],"media_url":"http:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CR-YsZ1WEAAZ6mS.jpg","url":"https:\/\/t.co\/ClQyzFxE3D","display_url":"pic.twitter.com\/ClQyzFxE3D","expanded_url":"http:\/\/twitter.com\/Midz_fanatic\/status\/657411961857118208\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":600,"resize":"fit"},"large":{"w":1024,"h":1024,"resize":"fit"}},"source_status_id":657411961857118208,"source_status_id_str":"657411961857118208","source_user_id":2959559264,"source_user_id_str":"2959559264"}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"en","timestamp_ms":"1445583730658"}
    ];
    var popularBtn = this.state.resultType == Parameters.RESULT_TYPE_POPULAR ?
      "btn-primary" : "btn-default";
    var recentBtn = this.state.resultType == Parameters.RESULT_TYPE_RECENT ?
      "btn-primary" : "btn-default";
    var Tweets = tweets.map(function (tweet) {
      return (
        <li key={tweet.id} className="list-group-item tweet">
          {formatTweet(tweet)}
        </li>
      );
    });
    return (
      <div className="panel panel-primary tweets">
        <div className="panel-heading">Tweets</div>
        <div className="panel-body">
          <span>Sort by: </span>
          <div className="btn-group" role="group">
            <button type="button" className={"btn " + popularBtn}>Popular</button>
            <button type="button" className={"btn " + recentBtn}>Recent</button>
          </div>
        </div>

        <ul className="list-group">
          {Tweets}
        </ul>
      </div>
    );
  },

  _onChange: function() {
    this.setState(getTweetsState());
  }
});
